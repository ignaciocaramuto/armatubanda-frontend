<div class="container">
  <app-profile-image
    [picByte]="profileImage?.picByte"
    [type]="profileImage?.type"
    class="large-size"
  ></app-profile-image>
  <ng-container *ngIf="isMusicianProfile; else band">
    <h2>{{ personalInfo.name }} {{ personalInfo.lastname }}</h2>
    <p>{{ biographyInfo.bio }}</p>
    <ng-container *ngIf="!!profileBandsMember.length">
      <h4 class="bands-text">Bandas:</h4>
      <div class="bands">
        <ng-container *ngFor="let band of profileBandsMember">
          <app-profile-image
            [picByte]="band.musicianBandsDto.bandImage.picByte"
            [type]="band.musicianBandsDto.bandImage.type"
            class="small-size"
          ></app-profile-image>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>

  <div *ngIf="isMusicianProfile" class="actions">
    <ng-container *ngIf="user()?.id !== userId && !isMemberOfAllBands">
      <app-button
        *ngIf="user()?.id !== userId && !hasBeenInvitedToAllBands"
        label="Invitar"
        icon="person_add"
        class="larger"
        (click)="inviteToBand()"
      ></app-button>
      <button mat-stroked-button disabled *ngIf="hasBeenInvitedToAllBands">
        <mat-icon>person_add</mat-icon>
        Pendiente
      </button>
    </ng-container>

    <app-button label="+ Info" class="larger" (click)="goToInfo()"></app-button>
  </div>
</div>

<ng-template #band>
  <h2>{{ bandInfo.bandInfo.name }}</h2>
  <p>{{ bandInfo.bandInfo.description }}</p>
  <ng-container *ngIf="!isMusicianProfile && !!bandInfo.members.length">
    <h4 class="bands-text">Miembros:</h4>
    <div class="bands">
      <ng-container *ngFor="let member of bandInfo.members">
        <app-profile-image
          [picByte]="member.profileImage?.picByte"
          [type]="member.profileImage?.type"
          class="small-size"
        ></app-profile-image>
      </ng-container>
    </div>
  </ng-container>
</ng-template>
